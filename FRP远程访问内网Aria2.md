---
title: FRP远程访问并管理内网Aria2下载
date: 2024-06-08 23:57:12
tags:
---

这是个以前碰到的老问题。做个笔记以备忘。

路由器是新三，固件是L大源码编译的Openwrt，带有FRP客户端及aira2.

Aira2在家里内网上正常使用。想实现人在外面找到好的资源时随时可访问家里的路由器及时下载，需要使用远程控制。
尝试用FRP来实现。
FRP分服务端和客户端，服务端要搭建在远程主机上，比如自己购买搭建的VPS. 客户端要安装在内网里的某台设备上，比如路由器、NAS等。

服务器上的FRP服务端装好并配置启动，网上教程很多，也比较容易配置。服务端的http端口号设12306.

假设服务端所在的VPS的域名是xyz.abc.com, FRP客户端通过http自定义域名并选aira2的rpc默认端口6800作为内部端口来配置，浏览器访问下面的地址 , 但始终不成功。

> xyz.abc.com:12306/ariang



于是到处找资料一一尝试，有用nginx的，有用端口转发的（自己尝试了也不成功)。后花了一天时间结合各路帖子，终于试了出来。
必须在FRP客户端设置两个配置，
见附图，



> 第一个是http，即使没有第二个也可以直接在浏览器用xyz.abc.com:12306访问路由器管理后台.
> 第二个为tcp，这个是配置aria访问. 注意它们的端口都应为6800，可以说成功的关键就在这两个端口设置，这个配置依赖第一个配置，单独设置不起作用。
>



<img src="./imgs/2024-06-09 001249.jpg">





保存应用后在浏览器访问下述地址，应该就没有问题了。

>xyz.abc.com:12306/ariang

